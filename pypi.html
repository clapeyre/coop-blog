<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Quentin Douasbin" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="python3, devops, Python3, " />

<meta property="og:title" content="Uploading to PyPI "/>
<meta property="og:url" content="http://localhost:8000/pypi" />
<meta property="og:description" content="A guide to uploading your Python package to PyPI" />
<meta property="og:site_name" content="The COOP Blog" />
<meta property="og:article:author" content="Quentin Douasbin" />
<meta property="og:article:published_time" content="2018-11-22T00:00:00+01:00" />
<meta name="twitter:title" content="Uploading to PyPI ">
<meta name="twitter:description" content="A guide to uploading your Python package to PyPI">

        <title>Uploading to PyPI  · The COOP Blog
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/css/custom.css" media="screen">

        <link rel="shortcut icon" href="http://localhost:8000/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="http://localhost:8000/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="http://localhost:8000/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://localhost:8000/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:8000/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="http://localhost:8000/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:8000/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="http://localhost:8000/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:8000/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="http://localhost:8000/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="http://localhost:8000/theme/images/apple-touch-icon-180x180.png" type="image/png" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="http://localhost:8000/"><span class=site-name>The COOP Blog</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       http://localhost:8000
                                    >Home</a>
                                </li>
                                <li ><a href="http://localhost:8000/about">About</a></li>
                                <li ><a href="http://localhost:8000/categories">Categories</a></li>
                                <li ><a href="http://localhost:8000/tags">Tags</a></li>
                                <li ><a href="http://localhost:8000/archives">Archives</a></li>
                                <li><form class="navbar-search" action="http://localhost:8000/search" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="http://localhost:8000/pypi">
                Uploading to&nbsp;PyPI
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <h2 id="testing-on-testpypi">Testing on TestPyPI<a class="headerlink" href="#testing-on-testpypi" title="Permanent link"> </a></h2>
<p>Once your <code>setup.py</code> works (i.e. that your library shows up in the <code>pip list</code> and that you can import your library in a python script/consol using <code>import my_library</code>) you can start to think about how to distribute it.
Uploading your code to PyPI is the most common way to do&nbsp;so.</p>
<p>First, you need to check that the name of your library does not already exists by browsing the <a href="https://pypi.org/">PypI</a> website and search for the library name you want to distribute. If there is no result for your library name you are good to go, otherwise you will need to change your library&nbsp;name.</p>
<p>Then you need to test that you can properly distribute it on a server. To avoid polluting the PyPI index (that will affect the entire Python community) another server exists for testing this step:  <a href="https://test.pypi.org">TestPyPI</a></p>
<p>You need to ensure that you have the latest version of <code>setuptools</code> and <code>wheel</code> libraries:</p>
<div class="highlight"><pre><span></span><code>python3 -m pip install --upgrade setuptools wheel twine
</code></pre></div>


<p>Before distributing your project to a server you need to build it&nbsp;locally:</p>
<div class="highlight"><pre><span></span><code>python3 setup.py sdist bdist_wheel
</code></pre></div>


<p>This will generate distribution archives in the <code>dist</code> directory.</p>
<p>To upload you newly-builded library to testPypi you need to use <code>twine</code>:</p>
<div class="highlight"><pre><span></span><code>twine upload --repository-url https://test.pypi.org/legacy/ dist/*
</code></pre></div>


<p>And you can now install it from this distant&nbsp;server:</p>
<div class="highlight"><pre><span></span><code>python3 -m pip install --index-url https://test.pypi.org/simple/ my_project
</code></pre></div>


<blockquote>
<p>Of course, you should install it on a Python version that does not have the library installed&nbsp;yet!</p>
</blockquote>
<p>Now let&#8217;s say an obvious thing: <strong>You need to test that you can properly upload to the TestPyPI server and install your library from it before moving to&nbsp;PyPI&#8230;</strong></p>
<p>If you want more info on this you can read the <a href="https://packaging.python.org/tutorials/packaging-projects/#generating-distribution-archives">setuptools&#8217; packaging project tutorials</a>.</p>
<h2 id="upload-to-pypi">Upload to PyPI<a class="headerlink" href="#upload-to-pypi" title="Permanent link"> </a></h2>
<p>To upload your package to PyPI (the <em><span class="caps">REAL</span></em> Python Index) you need to use the following&nbsp;command:</p>
<div class="highlight"><pre><span></span><code><span class="err">twine upload dist/*</span>
</code></pre></div>


<blockquote>
<p>This will ask you your PyPI username and&nbsp;password. </p>
</blockquote>
<p>Once the upload is done you can pip install you package from anywhere (if you have an internet connection of&nbsp;course!):</p>
<div class="highlight"><pre><span></span><code>pip install my_project
</code></pre></div>


<p>Once you have made a change in your project you might want to re-upload your library to PyPI.
To do so you need&nbsp;to:</p>
<ol>
<li>update the version number <a href="http://cerfacs.fr/coop/versioning/">according to the versioning strategy defined&nbsp;here</a></li>
<li>re-run the <code>python3 setup.py sdist bdist_wheel</code> command,</li>
<li>re-run the <code>twine upload dist/my_new_version*</code> command.</li>
</ol>
<p>Et&nbsp;voila!</p>
<p><img alt="Some gif" src="https://media.giphy.com/media/lD76yTC5zxZPG/giphy.gif" /></p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Uploading%20to%C2%A0PyPI&url=http%3A//localhost%3A8000/pypi&hashtags=python3,devops" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//localhost%3A8000/pypi" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Uploading%20to%C2%A0PyPI&amp;body=http%3A//localhost%3A8000/pypi" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






            <hr/>
<section>
    <h2>Keep Reading</h2>
<ul class="related-posts-list">
<li><a href="http://localhost:8000/create-your-own-package" title="Packaging guide">Packaging guide</a></li>
<li><a href="http://localhost:8000/pip-install" title="pip installing packages">pip installing packages</a></li>
<li><a href="http://localhost:8000/python-virtual-envs" title="Python virtual environments">Python virtual environments</a></li>
<li><a href="http://localhost:8000/python-faq" title="Python FAQ">Python FAQ</a></li>
</ul>
<hr />
</section>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="http://localhost:8000/python-virtual-envs" title="Previous: Python virtual environments">Python virtual environments</a></li>
                <li class="next-article"><a href="http://localhost:8000/pip-install" title="Next: pip installing packages">pip installing packages</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2018-11-22T00:00:00+01:00">nov 22, 2018</time>
            <h4>Category</h4>
            <a class="category-link" href="http://localhost:8000/categories#python3-ref">Python3</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://localhost:8000/tags#devops-ref">devops
                    <span>5</span>
</a></li>
                <li><a href="http://localhost:8000/tags#python3-ref">python3
                    <span>5</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="gitlab.com/cerfacs" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitLab" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#30353e"/><path fill="#e24329" d="M84 215l43-133c2-7 12-7 14 0l115 353L371 82c2-7 12-7 14 0l43 133"/><path fill="#fc6d26" d="M256 435L84 215h100.4zm71.7-220H428L256 435l71.6-220z"/><path fill="#fca326" d="M84 215l-22 67c-2 6 0 13 6 16l188 137zm344 0l22 67c2 6 0 13-6 16L256 435z"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>